<!DOCTYPE html>
<html>
<head>
    <link href= "/public/assets/indexStyles.css" rel="stylesheet" type="text/css" />
    <link href="https://fonts.googleapis.com/css2?family=Lobster&display=swap" rel="stylesheet">
    
    <link href="/public/assets/TandPStyles.css" rel="stylesheet" type="text/css" />
</head>

<body>

    js <%- include('partials/_header') %>
    
    <div id="TandPContainer">
        <canvas id="TandPCanvas" width="700px" height="500px"></canvas>
    </div>

    <div id="TandPImageContainer">
        <img id="Terrance" src="/public/TandP/TFartFrames/T---Fart-T01.png">
        <img id="Phillip" src="/public/TandP/TFartFrames/T---Fart-P01.png">

        <img id="Terrance2" src="/public/TandP/TFartFrames/T---Fart-T02.png">
        <img id="Phillip2" src="/public/TandP/TFartFrames/T---Fart-P02.png">
    </div>

<script>
    var canvas = document.getElementById('TandPCanvas');
    var ctx = canvas.getContext('2d');
    var framesPerSecond = 30;

    var imgT = document.getElementById("Terrance");
    var imgP = document.getElementById("Phillip");

    var Xcord = 0;
    var Ycord = 0;

    var ctr = 0;

    function calculateMousePos(evt){      // an event fires when mouse moves
        var rect = canvas.getBoundingClientRect();
        var root = document.documentElement;
        var mouseX = evt.clientX - rect.left - root.scrollLeft;
        var mouseY = evt.clientY - rect.top - root.scrollTop;
        return {
        x:mouseX,   // Object Literal
        y:mouseY    // Object Literal
        };
    }

    window.onload = function() {
        setInterval(function() {
            drawEverything();            

            console.log(Xcord)
        },1000/framesPerSecond);

        canvas.addEventListener ('mousedown', handleMouseClick); // handles mouseclick

        canvas.addEventListener ('mousemove',   // keypress, mouseclick, mousemove
        function(evt) {
            var mousePos = calculateMousePos(evt);
            Xcord = mousePos.x;
            Ycord = mousePos.y;
        });
    }

    function drawEverything() {
        ctx.fillStyle = '#27aae1';
        ctx.fillRect(0,0,canvas.width,canvas.height);
        ctr = ctr + 0.03;
        // console.log ("Counter = " + ctr);
        drawTandP();
    }

    function handleMouseClick(evt){
            if(Xcord <=350) {
                imgT = document.getElementById("Terrance2");
            }
            if(Xcord > 350) {
                imgP = document.getElementById("Phillip2");
            }
    };

    function calculateMousePos(evt){      // an event fires when mouse moves
        var rect = canvas.getBoundingClientRect();
        var root = document.documentElement;
        var mouseX = evt.clientX - rect.left - root.scrollLeft;
        var mouseY = evt.clientY - rect.top - root.scrollTop;
        return {
        x:mouseX,   // Object Literal
        y:mouseY    // Object Literal
        };
    }

    function drawTandP() {
        ctx.drawImage(imgT, 0, 10);
        ctx.drawImage(imgP, 350, 10);
    }

</script>

</body>
</html>
